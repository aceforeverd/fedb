
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>JOIN Clause &#8212; OpenMLDB  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="WHERE Clause" href="WHERE_CLAUSE.html" />
    <link rel="prev" title="SELECT Overview" href="SELECT_STATEMENT.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/openmldb_logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../about/index.html">
   About
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../about/intro.html">
     Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../about/milestones.html">
     Milestones
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../about/release_notes.html">
     Release Notes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../quickstart/index.html">
   Quickstart
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../quickstart/openmldb_quickstart.html">
     OpenMLDB Quickstart
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../quickstart/java_sdk.html">
     Java SDK Quickstart
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../quickstart/python_sdk.html">
     Python SDK Quickstart
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../quickstart/rest_api.html">
     REST APIs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../tutorial/index.html">
   Tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../tutorial/standalone_vs_cluster.html">
     Cluster vs. Standalone Versions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../tutorial/modes.html">
     The Workflow of Cluster Version and Execution Mode
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../tutorial/tutorial_sql_1.html">
     SQL for Feature Extraction (Part 1)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../tutorial/tutorial_sql_2.html">
     SQL for Feature Extraction (Part 2)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../tutorial/data_import.html">
     Data Import
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../tutorial/openmldbspark_distribution.html">
     OpenMLDB Spark Distribution
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../use_case/index.html">
   Use Cases
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_case/lightgbm_demo.html">
     OpenMLDB + LightGBM: Taxi Trip Duration Prediction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_case/pulsar_connector_demo.html">
     Importing Real-Time Data Streams from Pulsar
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_case/kafka_connector_demo.html">
     Importing Real-Time Data Streams from Kafka
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_case/dolphinscheduler_task_demo.html">
     Building End-to-End MLOps Workflows (OpenMLDB + DolphinScheduler)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_case/JD_recommendation_en.html">
     OpenMLDB + OneFlow: Prediction of Purchase Intention for High Potential Customers
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../deploy/index.html">
   Deployment
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../deploy/compile.html">
     Build
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../deploy/install_deploy.html">
     Install and Deploy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../deploy/conf.html">
     Configuration File
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../maintain/index.html">
   Maintenance
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/upgrade.html">
     Upgrade
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/backup.html">
     Backup and Restore
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/monitoring.html">
     Monitoring
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/cli.html">
     Operations in CLI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/faq.html">
     Operation and Maintenance FAQ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/scale.html">
     Scale-Out and Scale-In
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../maintain/diagnose.html">
     Diagnostic Tool
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../developer/index.html">
   Developers
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../developer/built_in_function_develop_guide.html">
     Built-In Function Development
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../index.html">
   References
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../arch/index.html">
     Architecture
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../arch/online_arch.html">
       Online Module Architecture
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../index.html">
     SQL
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../language_structure/index.html">
       Language Structure
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../language_structure/keywords.html">
         Keywords
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../language_structure/object_names_identifiers.html">
         SQL Object Name
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../language_structure/literals_value.html">
         Literal Value
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../language_structure/case_sensitive.html">
         Case Sensitive
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../language_structure/comment.html">
         Notes
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../data_types/index.html">
       Data Type
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../data_types/numeric_types.html">
         Numeric Type
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../data_types/string_types.html">
         String Type
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../data_types/date_and_time_types.html">
         Date and Time Type
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../functions_and_operators/index.html">
       Expressions, Functions, and Operations
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../functions_and_operators/operators.html">
         Operator
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../functions_and_operators/Files/udfs_8h.html">
         Built-in Functions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="index.html">
       Data Query Statement （DQL）
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4">
        <a class="reference internal" href="SELECT_STATEMENT.html">
         SELECT Overview
        </a>
       </li>
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="#">
         JOIN Clause
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="WHERE_CLAUSE.html">
         WHERE Clause
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="GROUP_BY_CLAUSE.html">
         GROUP BY Clause
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="HAVING_CLAUSE.html">
         Having Clause
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="WINDOW_CLAUSE.html">
         WINDOW Clause
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="LIMIT_CLAUSE.html">
         Limit Clause
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="NO_TABLE_SELECT_CLAUSE.html">
         No-table SELECT
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="SELECT_INTO_STATEMENT.html">
         SELECT INTO
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../dml/index.html">
       Data Manipulation Statement（DML）
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../dml/INSERT_STATEMENT.html">
         INSERT
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dml/LOAD_DATA_STATEMENT.html">
         LOAD DATA INFILE
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dml/DELETE_STATEMENT.html">
         DELETE
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../ddl/index.html">
       Data Definition Statement (DDL)
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/CREATE_DATABASE_STATEMENT.html">
         CREATE DATABASE
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/SHOW_DATABASES_STATEMENT.html">
         SHOW DATABASES
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/USE_DATABASE_STATEMENT.html">
         USE DATABASE
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/DROP_DATABASE_STATEMENT.html">
         DROP DATABASE
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/DESC_STATEMENT.html">
         DESC
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/CREATE_TABLE_STATEMENT.html">
         CREATE TABLE
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/DROP_TABLE_STATEMENT.html">
         DROP TABLE
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/SHOW_TABLES_STATEMENT.html">
         SHOW TABLES
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/SHOW_VARIABLES_STATEMENT.html">
         SHOW VARIABLES
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/SET_STATEMENT.html">
         SET STATEMENT
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/CREATE_INDEX_STATEMENT.html">
         CREATE INDEX
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../ddl/DROP_INDEX_STATEMENT.html">
         DROP INDEX
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../deployment_manage/index.html">
       DEPLOYMENT Management
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../deployment_manage/DEPLOY_STATEMENT.html">
         DEPLOY
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../deployment_manage/DROP_DEPLOYMENT_STATEMENT.html">
         Delete DEPLOYMENT
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../deployment_manage/SHOW_DEPLOYMENTS.html">
         View DEPLOYMENTS List
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../deployment_manage/SHOW_DEPLOYMENT.html">
         View DEPLOYMENT Details
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../deployment_manage/ONLINE_SERVING_REQUIREMENTS.html">
         SQL On-Line Specifications and Requirements
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../task_manage/index.html">
       Task Management
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
      <label for="toctree-checkbox-18">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../task_manage/SHOW_JOBS.html">
         SHOW JOBS
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../task_manage/SHOW_JOB.html">
         SHOW JOB
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../task_manage/STOP_JOB.html">
         STOP JOB
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../task_manage/SUBMIT_JOB.html">
         SUBMIT JOB
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ip_tips.html">
     IP Configuration
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../client_config/index.html">
     Client Configuration
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../client_config/client_spark_config.html">
       Spark Client Configuration
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav>
</br>
Current Version: main</br>
Versions：
<ul>
  <li><a href="JOIN_CLAUSE.html">main</a></li>
  <li><a href="../../../../v0.5/index.html">v0.5</a></li>
  <li><a href="../../../../v0.4/index.html">v0.4</a></li>
  <li><a href="../../../../v0.6/index.html">v0.6</a></li>
</ul>
</br>
</div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/reference/sql/dql/JOIN_CLAUSE.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#syntax">
   Syntax
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sql-statement-template">
   SQL Statement Template
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#description">
   Description
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#last-join-without-order-by">
     LAST JOIN without ORDER BY
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example-of-the-computation-logic">
       Example of the Computation Logic
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#sql-example">
       SQL Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#last-join-with-order-by">
     LAST JOIN with ORDER BY
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Example of the Computation Logic
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       SQL Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#last-join-with-no-matched-rows">
     LAST JOIN with No Matched Rows
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>JOIN Clause</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#syntax">
   Syntax
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sql-statement-template">
   SQL Statement Template
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#description">
   Description
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#last-join-without-order-by">
     LAST JOIN without ORDER BY
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example-of-the-computation-logic">
       Example of the Computation Logic
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#sql-example">
       SQL Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#last-join-with-order-by">
     LAST JOIN with ORDER BY
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Example of the Computation Logic
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       SQL Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#last-join-with-no-matched-rows">
     LAST JOIN with No Matched Rows
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="join-clause">
<h1>JOIN Clause<a class="headerlink" href="#join-clause" title="Permalink to this headline">#</a></h1>
<p>OpenMLDB currently only supports <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> can be seen as a special kind of <code class="docutils literal notranslate"><span class="pre">LEFT</span> <span class="pre">JOIN</span></code>. On the premise that the JOIN condition is met, each row of the left table is joined with the last row of the right table that meets the condition. There are two types of <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code>: unsorted join and sorted join.</p>
<ul class="simple">
<li><p>The unsorted join will join two tables directly without sorting the right table.</p></li>
<li><p>The sorted join will sort the right table first, and then join two tables.</p></li>
</ul>
<p>Like <code class="docutils literal notranslate"><span class="pre">LEFT</span> <span class="pre">JOIN</span></code>, <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> returns all rows in the left table, even if there are no matched rows in the right table.</p>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">#</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">JoinClause</span>
         <span class="p">:</span><span class="o">:=</span> <span class="n">TableRef</span> <span class="n">JoinType</span> <span class="s1">&#39;JOIN&#39;</span> <span class="n">TableRef</span> <span class="p">[</span><span class="n">OrderClause</span><span class="p">]</span> <span class="s1">&#39;ON&#39;</span> <span class="n">Expression</span> 
<span class="n">JoinType</span> <span class="p">:</span><span class="o">:=</span> <span class="s1">&#39;LAST&#39;</span>       
</pre></div>
</div>
</section>
<section id="sql-statement-template">
<h2>SQL Statement Template<a class="headerlink" href="#sql-statement-template" title="Permalink to this headline">#</a></h2>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">table_ref</span><span class="w"> </span><span class="k">LAST</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">table_ref</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">expression</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">#</a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code> Statement Elements</p></th>
<th class="head"><p>Offline Mode</p></th>
<th class="head"><p>Online Preview Mode</p></th>
<th class="head"><p>Online Request Mode</p></th>
<th class="text-left head"><p>Note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>JOIN Clause</p></td>
<td><p><strong><code class="docutils literal notranslate"><span class="pre">✓</span></code></strong></p></td>
<td><p><strong><code class="docutils literal notranslate"><span class="pre">✓</span></code></strong></p></td>
<td><p><strong><code class="docutils literal notranslate"><span class="pre">✓</span></code></strong></p></td>
<td class="text-left"><p>The Join clause indicates that the data source comes from multiple joined tables. OpenMLDB currently only supports LAST JOIN. For Online Request Mode, please follow <a class="reference internal" href="../deployment_manage/ONLINE_SERVING_REQUIREMENTS.html#the-usage-specification-of-last-join-under-online-serving"><span class="std std-doc">the specification of LAST JOIN under Online Request Mode</span></a></p></td>
</tr>
</tbody>
</table>
<section id="last-join-without-order-by">
<h3>LAST JOIN without ORDER BY<a class="headerlink" href="#last-join-without-order-by" title="Permalink to this headline">#</a></h3>
<section id="example-of-the-computation-logic">
<h4>Example of the Computation Logic<a class="headerlink" href="#example-of-the-computation-logic" title="Permalink to this headline">#</a></h4>
<p>The unsorted <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> will concat every row of the left table with the last matched row of the right table.</p>
<p><img alt="Figure 7: last join without order" src="../../../_images/last_join_without_order.png" /></p>
<p>Take the second row of the left table as an example. The right table is unordered, and there are 2 matched rows. The last one <code class="docutils literal notranslate"><span class="pre">5,</span> <span class="pre">b,</span> <span class="pre">2020-05-20</span> <span class="pre">10:11:12</span></code> will be joined with the second row of the left.<br />
The final result is shown in the figure bellow.
<img alt="Figure 8: last join without order result" src="../../../_images/last_join_without_order2.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To realize the above JOIN result, please follow <span class="xref myst">the specification of LAST JOIN under Online Request mode</span> like the SQL example bellow, even if you are using offline mode.
Otherwise, you may not obtain the above result because of the uncertainty of the underlying storage order, although the result is correct as well.</p>
</div>
</section>
<section id="sql-example">
<h4>SQL Example<a class="headerlink" href="#sql-example" title="Permalink to this headline">#</a></h4>
<p>The following SQL commands created the left table t1 as mentioned above and inserted corresponding data.
In order to check the results conveniently, it is recommended to create index on <code class="docutils literal notranslate"><span class="pre">col1</span></code> and use <code class="docutils literal notranslate"><span class="pre">std_ts</span></code> as timestamp. It doesn’t matter if you create t1 without index, since it doesn’t affect the concatenation in this case.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">std_ts</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span><span class="k">INDEX</span><span class="p">(</span><span class="k">KEY</span><span class="o">=</span><span class="n">col1</span><span class="p">,</span><span class="n">ts</span><span class="o">=</span><span class="n">std_ts</span><span class="p">));</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">20200520101112</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">20200520101114</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">20200520101116</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101116</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>

<span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
</pre></div>
</div>
<p>The following SQL commands created the right table t2 as mentioned above and inserted corresponding data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The storage order of data rows is not necessarily the same as their insert order. And the storage order will influence the matching order when JOIN.
In this example, we want to realize the storage order of t2 as the above figure displayed, which will lead to a result that is convenient to check.
To guarantee the storage order of t2, please create following index, do not set <code class="docutils literal notranslate"><span class="pre">ts</span></code>, and sequentially instert data one by one.
Detail explanation is in <span class="xref myst">columnindex</span>.</p>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="n">std_ts</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span><span class="k">INDEX</span><span class="p">(</span><span class="k">KEY</span><span class="o">=</span><span class="n">col1</span><span class="p">));</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">20200520101112</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">20200520101113</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">20200520101113</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">20200520101114</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">20200520101112</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">20200520101113</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t2</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">5</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">6</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">4</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>

<span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
</pre></div>
</div>
<p>The result of <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> with <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> is shown below.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">LAST</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="n">col1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w">           </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w">   </span><span class="mi">2</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w">   </span><span class="mi">5</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101116</span><span class="w">   </span><span class="mi">6</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>

<span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
</pre></div>
</div>
<p>If you create t1 without index, the result of <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> is the same but the order of <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> result is different.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">LAST</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="n">col1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w">           </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101116</span><span class="w">   </span><span class="mi">6</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w">   </span><span class="mi">2</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w">   </span><span class="mi">5</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>

<span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The execution of <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> can be optimized by index. If there is index corresponding with the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> and conditions in <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> clause, its <code class="docutils literal notranslate"><span class="pre">ts</span></code> will be used as the implicit order for unsorted <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code>. If there is not index like this, the implicit order is the storage order. But the storage order of a table without index is unpredictable.
If the <code class="docutils literal notranslate"><span class="pre">ts</span></code> was not given when create index, OpenMLDB uses the time when the data was inserted as <code class="docutils literal notranslate"><span class="pre">ts</span></code>.</p>
</div>
</section>
</section>
<section id="last-join-with-order-by">
<h3>LAST JOIN with ORDER BY<a class="headerlink" href="#last-join-with-order-by" title="Permalink to this headline">#</a></h3>
<section id="id1">
<h4>Example of the Computation Logic<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h4>
<p>When <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> is configured with <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code>, the right table is sorted by the specified order, and the last matched data row will be joined.</p>
<p><img alt="Figure 9: last join with order" src="../../../_images/last_join_with_order1.png" /></p>
<p>Taking the second row of the left table as an example, there are 2 rows in the right table that meet the conditions. After sorting by <code class="docutils literal notranslate"><span class="pre">std_ts</span></code>, the last row <code class="docutils literal notranslate"><span class="pre">3,</span> <span class="pre">b,</span> <span class="pre">2020-05-20</span> <span class="pre">10:11:13</span></code> will be joined.</p>
<p><img alt="Figure 10: last join with order result" src="../../../_images/last_join_with_order2.png" /></p>
<p>The final result is shown in the figure above.</p>
</section>
<section id="id2">
<h4>SQL Example<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h4>
<p>The following SQL commands created the left table t1 as mentioned above and inserted corresponding data.</p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">std_ts</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">20200520101112</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">20200520101114</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">20200520101116</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101116</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>

<span class="mi">3</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
</pre></div>
</div>
<p>The following SQL commands created the right table t2 as mentioned above and inserted corresponding data.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="n">std_ts</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">20200520101112</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">20200520101113</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">20200520101113</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">20200520101114</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">20200520101112</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">20200520101113</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t2</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">5</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">6</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">4</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ----------------</span>

<span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"></span>
</pre></div>
</div>
<p>The result of <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> with <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> is shown below.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">LAST</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="n">col1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w">           </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w">   </span><span class="mi">2</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w">   </span><span class="mi">3</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101116</span><span class="w">   </span><span class="mi">4</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ---- ------ ----------------</span>
</pre></div>
</div>
</section>
</section>
<section id="last-join-with-no-matched-rows">
<h3>LAST JOIN with No Matched Rows<a class="headerlink" href="#last-join-with-no-matched-rows" title="Permalink to this headline">#</a></h3>
<p>The following example shows the result of LAST JOIN with no matched rows.</p>
<p>Please insert a new row into t1 (created in [Example of LAST JOIN with ORDER BY](#LAST JOIN with ORDER BY)) as follows, then run <code class="docutils literal notranslate"><span class="pre">LAST</span> <span class="pre">JOIN</span></code> command.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="mi">20220707111111</span><span class="p">);</span><span class="w"></span>
<span class="n">SUCCEED</span><span class="w"></span>
<span class="o">&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">LAST</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="n">std_ts</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="n">col1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ------ ------ ----------------</span>
<span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w">           </span><span class="n">id</span><span class="w">     </span><span class="n">col1</span><span class="w">   </span><span class="n">std_ts</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ------ ------ ----------------</span>
<span class="w">  </span><span class="mi">4</span><span class="w">    </span><span class="n">d</span><span class="w">      </span><span class="mi">20220707111111</span><span class="w">   </span><span class="k">NULL</span><span class="w">   </span><span class="k">NULL</span><span class="w">   </span><span class="k">NULL</span><span class="w"></span>
<span class="w">  </span><span class="mi">3</span><span class="w">    </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101116</span><span class="w">   </span><span class="mi">4</span><span class="w">      </span><span class="k">c</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w"></span>
<span class="w">  </span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101112</span><span class="w">   </span><span class="mi">2</span><span class="w">      </span><span class="n">a</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w">  </span><span class="mi">2</span><span class="w">    </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101114</span><span class="w">   </span><span class="mi">3</span><span class="w">      </span><span class="n">b</span><span class="w">      </span><span class="mi">20200520101113</span><span class="w"></span>
<span class="w"> </span><span class="c1">---- ------ ---------------- ------ ------ ----------------</span>
</pre></div>
</div>
</section>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="SELECT_STATEMENT.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">SELECT Overview</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="WHERE_CLAUSE.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">WHERE Clause</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By OpenMLDB<br/>
  
      &copy; Copyright 2022, OpenMLDB.<br/>
    Last updated on Aug 27, 2022, 3:54:29 PM.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>